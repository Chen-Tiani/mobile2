(function(){var e={7556:function(e,t,n){"use strict";var r=n(7005),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("van-tabbar",{attrs:{router:"",fixed:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[t("van-tabbar-item",{attrs:{name:"/",replace:"",to:"/",icon:"home-o"}},[e._v("首页")]),t("van-tabbar-item",{attrs:{name:"/type",replace:"",to:"/type",icon:"search"}},[e._v("分类")]),t("van-tabbar-item",{attrs:{name:"/myshopping",replace:"",to:"/myshopping",icon:"friends-o"}},[e._v("我的商品")]),t("van-tabbar-item",{attrs:{name:"/personal",replace:"",to:"/personal",icon:"setting-o"}},[e._v("个人中心")])],1),t("router-view",{staticClass:"nr"})],1)},a=[];const i=()=>{let e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return e},s=(e,t)=>{const n=document.createElement("meta");n.content=t,n.name=e,document.getElementsByTagName("head")[0].appendChild(n)};function u(){(0,r.bv)((()=>{i()?(console.log("手机"),s("viewport","user-scalable=yes")):console.log("pc")}))}var l={setup(){u()},data(){return{active:"/"}},mounted(){},watch:{$route(e,t){this.active=this.$route.path}}},c=l,d=n(8412),p=(0,d.Z)(c,o,a,!1,null,"6002fe3a",null),g=p.exports,f=n(1848),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("div",{staticClass:"headerp",class:{chang:e.headerScroll}},[t("van-icon",{staticClass:"ioc",class:{cs:!e.headerScroll,changio:e.headerScroll},attrs:{name:"wap-nav"}}),e._m(0),t("van-icon",{staticClass:"ioc",class:{cs:!e.headerScroll,changio:e.headerScroll},attrs:{name:"contact"}})],1),t("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[t("div",{ref:"goods",staticClass:"goods"},e._l(e.goodsdata,(function(n,r){return t("div",{staticClass:"card"},[t("img",{attrs:{src:JSON.parse(n.images)[0]}}),t("p",[e._v(e._s(n.name))]),t("p",[e._v(e._s(n.price))])])})),0),e.loading?t("div",{staticStyle:{display:"flex","justify-content":"center"}},[t("van-loading",{attrs:{type:"spinner",color:"#1989fa"}})],1):e._e(),e.noMore?t("div",[e._v(" 没有更多了 ")]):e._e()])],1)},m=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("span",{staticClass:"app-name"},[e._v("陈一天")]),t("span",{staticClass:"sea"},[e._v("二手无限，尽情搜索")])])}],v=n(3858),y=n(6890),b={data(){return{loading:!1,page:1,headerScroll:!1,isLoading:!1,goodsdata:[],threshold:1,lenpage:2}},computed:{noMore(){return this.page>this.lenpage&&0==this.loading}},methods:{onRefresh(){setTimeout((()=>{this.isLoading=!1,(0,y.Z)("刷新成功")}),1e3)},loadMore(){this.page<=this.lenpage?(this.loading=!0,setTimeout((()=>{this.$api.getgoods({page:this.page}).then((e=>{this.goodsdata.push(...e.data.data),this.lenpage=Math.ceil(e.data.total/6)})),this.page++,this.loading=!1}),2e3)):(this.loading=!1,window.removeEventListener("scroll",(0,v.throttle)(this.handleScroll,2e3)))},handleScroll(){const e=document.documentElement.scrollTop||document.body.scrollTop,t=window.innerHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;n-(e+t)<this.threshold&&this.loadMore()},pageScroll(){let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.headerScroll=e>100}},created(){},mounted(){window.addEventListener("scroll",this.pageScroll),this.loadMore(),window.addEventListener("scroll",(0,v.throttle)(this.handleScroll,2e3))}},Z=b,w=(0,d.Z)(Z,h,m,!1,null,"51094b58",null),z=w.exports;const S=()=>n.e(422).then(n.bind(n,4422)),_=()=>n.e(163).then(n.bind(n,6163)),C=()=>n.e(467).then(n.bind(n,5467)),P=()=>n.e(215).then(n.bind(n,5215));r.ZP.use(f.ZP);const T=[{path:"/",name:"home",component:z},{path:"/type",name:"type",component:_},{path:"/fabu",name:"fabu",component:P},{path:"/myshopping",name:"myshopping",component:C},{path:"/personal",name:"personal",component:S}],E=new f.ZP({routes:T});var O=E,k=n(3941);r.ZP.use(k.ZP);var j=new k.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),x=(n(677),n(3995));const L={hop:"http://162.14.114.200:3000",login:"/api/login",upload:"/api/upload",delimg:"/api/deleteimg",addg:"/api/addgoods",myart:"/api/myart",goods:"/api/goods",type:"/api/type",details:"/api/details",zfb:"/api/pay",zfbtz:"/api/paytz",bygoods:"/api/bygoods",myshopping:"/api/myshopping",user:"/api/user",deluser:"/api/deluser",eduser:"/api/eduser",edgoods:"/api/edgoods",delgoods:"/api/delgoods",yz:"/api/yz",zhuc:"/api/zhuc",yzzc:"/api/yzzc",clearn:"/api/clearn",userchange:"/api/userchange",adddiz:"/api/adddiz"};var N=L,A=n(9204),M=n.n(A);x.Z.interceptors.request.use((e=>{if(!e.url.endsWith("/api/jiauser")&&!e.url.endsWith("/api/clearn")&&!e.url.endsWith("/api/details")&&!e.url.endsWith("/api/goods")&&!e.url.endsWith("/api/login")&&!e.url.endsWith("/api/zhuc")&&!e.url.endsWith("/api/type")&&!e.url.endsWith("/api/yzzc")&&!e.url.endsWith("/api/yz")&&sessionStorage.getItem("user")){const t=JSON.parse(sessionStorage.getItem("user")).token;e.headers.common["Authorization"]=t}return e}),(e=>Promise.reject(e)));const W={getadddiz(e){return x.Z.get(N.adddiz,{params:e})},postupload(e){return x.Z.post(N.upload,M().stringify(e))},postuserchange(e){return x.Z.post(N.userchange,M().stringify(e))},getclearn(e){return x.Z.post(N.clearn,M().stringify(e))},postyzzc(e){return x.Z.post(N.yzzc,M().stringify(e))},postzhuc(e){return x.Z.post(N.zhuc,M().stringify(e))},postyz(e){return x.Z.post(N.yz,M().stringify(e))},getdelgoods(e){return x.Z.get(N.delgoods,{params:e})},getedgoods(e){return x.Z.get(N.edgoods,{params:e})},geteduser(e){return x.Z.get(N.eduser,{params:e})},getdeluser(e){return x.Z.get(N.deluser,{params:e})},getuser(e){return x.Z.get(N.user,{params:e})},getmyshopping(e){return x.Z.get(N.myshopping,{params:e})},getbygoods(e){return x.Z.get(N.bygoods,{params:e})},getzfbtz(e){return x.Z.post(N.zfbtz,M().stringify(e))},getzfb(e){return x.Z.post(N.zfb,M().stringify(e))},getdetails(e){return x.Z.get(N.details,{params:e})},gettype(e){return x.Z.get(N.type,{params:e})},getmyart(e){return x.Z.get(N.myart,{params:e})},getgoods(e){return x.Z.get(N.goods,{params:e})},getshangplist(e){return x.Z.get(N.shangp,{params:e})},addgoods(e){return x.Z.get(N.addg,{params:e})},delimgt(e){return x.Z.get(N.delimg,{params:e})},getlogin(e){return x.Z.post(N.login,M().stringify(e))}};var B=W,F=n(8155);n(4180);r.ZP.prototype.$api=B,r.ZP.use(F.ZP),r.ZP.config.productionTip=!1,new r.ZP({router:O,store:j,render:function(e){return e(g)}}).$mount("#app")},3858:function(e){const t=function(e,t=1e3){var n;return function(){var r=this,o=arguments;n&&clearTimeout(n),n=setTimeout((function(){n=null,e.apply(r,o)}),t)}},n=function(e,t=1e3){var n,r;return function(){var o=this,a=arguments,i=+new Date;n&&i-n<t?(clearTimeout(r),r=setTimeout((function(){n=i,e.apply(o,a)}),t)):(n=i,e.apply(o,a))}};e.exports={debounce:t,throttle:n}},8332:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],a=e[c][2];for(var s=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{163:"ac6a9d16",215:"9199639c",422:"5379e35f",467:"84868d7b"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{163:"8f8781bf",422:"34694fed",467:"e4a6065f"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="myvue:";n.l=function(r,o,a,i){if(e[r])e[r].push(o);else{var s,u;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(g);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,o){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=s,a.parentNode&&a.parentNode.removeChild(a),o(u)}};return a.onerror=a.onload=i,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){o=i[r],a=o.getAttribute("data-href");if(a===e||a===t)return o}},r=function(r){return new Promise((function(o,a){var i=n.miniCssF(r),s=n.p+i;if(t(i,s))return o();e(r,s,null,o,a)}))},o={143:0};n.f.miniCss=function(e,t){var n={163:1,422:1,467:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error,u=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],s=r[1],u=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var c=u(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunkmyvue"]=self["webpackChunkmyvue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(7556)}));r=n.O(r)})();
//# sourceMappingURL=app.c95b422e.js.map